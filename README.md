# work_for_everyone

## Примечание!
Telegram bot находится на стадии разработки. Автор - новичок в этом деле, поэтому будет благодарен за любую конструктивную критику.

## Описание
**Work for everyone** – альтернативный интерфейс поиска и просмотра вакансий для людей с инвалидностью в России.
 Все вакансии представляют собой вакансии, выделенные работодателями в счет установленных квот для трудоустройства людей с инвалидностью. 
 Сами вакансии хранятся в базе данных вакансий сайта [«Работа России»](https://trudvsem.ru/) и предоставляются через открытый [API](https://trudvsem.ru/opendata/api).


**Telegram bot Work for everyone позволит:**
- искать вакансии в указанном пользователем населенном пункте;
- просматривать список вакансий с краткой информацией;
- получать подробную информацию о конкретной вакансии;
- добавлять вакансии в избранное.


## Алгоритм работы Telegram бота:

1. Работа с ботом начинается активацией команды /start. В ответ на эту команду бот поприветствует пользователя по имени и даст краткую инструкцию по работе с ботом.
Кроме краткой инструкции бот подскажет, что подробную информацию о работе с ботом и поддерживаемых коммандах пользователь может узнать по команде /help.  

2. После активации команды /start кроме информационного сообщения бот покажет пользователю две кнопки. Я еще не решил, останутся ли стандартные кнопки или же я буду использовать
инлайн кнопки. Тут все будет зависить от доступности тех или других. Что касается названий кнопок, то пусть они будут такими (возможно, что в ходе переработки кода я изменю их названия):
    - "Начать вводить данные";
    - "Показать справку о работе с ботом".

3. Активация кнопки "Показать справку о работе с ботом" реагирует аналогично команде /help.

4. Нажатие кнопки "Начать вводить данные" запускает основную логику работы бота.

5. Пользователь поэтапно выбирает из списка:
    - название федерального округа. Это нужно, чтобы на следующем этапе бот предоставил пользователю список субъектов РФ, которые входят в указанный федеральный округ;
    - название субъекта РФ. На этом этапе бот предоставляет возможность вернуться на предыдущий шаг, если пользователь неправильно укажет название федерального округа.

6. После выбора федерального округа и региона пользователь должен ввести название населенного пункта, в котором он хочет найти вакансию. 
Название населенного пункта вводится без указания его типа (город, село, деревня и т.п.). Об этом пользователь предупреждается в соответствующем информационном сообщении.

7. После того как пользователь ввел наименование населенного пункта, бот осуществляет валидацию введенных данных. 
В частности, проверяется, что в названии населенного пункта используется только кириллица, а также не используются цифры и другие специальные символы, кроме дефиса. 
Дефис часто используется в названии населенных пунктов в России. Проверке также подлежит количество введенных слов, так как в России нет населенных пунктов, в названии которых 
присутствовало бы больше двух слов. В том случае, если название населенного пункта введено пользователем со строчной буквы, то бот преобразует первые буквы названия в заглавные. 

8. При успешной валидации бот выдает пользователю сообщение с введенными данными для повторной проверки пользователем их корректности. Также пользователь видит две кнопки:
    - "Начать поиск вакансий";
    - "Ввести данные повторно" (на случай ошибочно введенных данных).

9. Если при валидации названия населенного пункта будут выявлены ошибки, бот указывает пользователю на это и повторно предлагает указать название населенного пункта со справкой по правилам ввода.

10. Активация кнопки "Начать поиск вакансий" запускает модуль бота, отвечающий за формирование и отправку запроса к API "Работа России". 
В том случае, если GET запрос был выполнен успешно, в базе данных создается уникальная таблица для пользователя, в которую записываются данные о найденных вакансиях. 
Методы и конкретная реализация схемы работы с данными и БД пока не определена. В рамках разработки бота используется легкая и простая БД SQLite. 
На финальной стадии будет использоваться PostgreSQL.

11. При нажатии кнопки "Начать поиск вакансий" пользователь получает сообщение, что начался поиск вакансий и что это может занять какое-то время. 
На этом же этапе пользователь получает краткую справку по работе со списком вакансий, а также, как узнать подробную информацию о вакансии и добавить ее в избранное.

12. В случае неудачного запроса или проблем, связанных с работой API, пользователь получит сообщение об этом.

13. По результатам поиска пользователю сообщается о количестве найденных вакансий, а также показываются первые 10 найденных вакансий.
Далее пользователь может листать списки найденных вакансий как вперед, так и назад. Эта функция реализована через пагинацию.

14. Каждая вакансия представляет собой отдельное сообщение. Под каждой вакансией есть две инлайн кнопки:
    - "Подробнее о вакансии";
    - "Добавить в избранное".

15. Пример описания вакансии в списке вакансий:
    - Должность: Начальник отдела учета расходов
    - Заработная плата: от 50000
    - Работодатель: АО "УДМУРТАВТОДОРСТРОЙ"
    - Адрес работодателя: Удмуртская республика, г Ижевск, Олега Кошевого улица, 18
    - Номер телефона работодателя: +7(341) 290-88-10
    - Электронная почта: info@autodor.org

16. Пример подробного описания вакансии:
    - Подробные свдения о вакансии:
    - Должность: Начальник отдела учета расходов
    - Дата публикации вакансии:06.01.2024 г.
    - Вакансия из категории: Инвалиды
    - Данные о заработной плате:
        - Минимальная заработная плата: 19 242
        - Максимальный размер заработной платы:20 000
    - Должностные обязанности: В соответствии с должностной инструкцией и трудовым договором.
    - Данные о работодателе:
        - Наименование работодателя: АО "УДМУРТАВТОДОРСТРОЙ"
        - Контактное лицо: Иванов Иван Иванович
        - Номер телефона работодателя: +7(341) 290-88-10
        - Электронная почта: info@autodor.org
        - Адрес работодателя: Удмуртская республика, г Ижевск, Олега Кошевого улица, 18

17. Активация кнопки "Добавить в избранное" добавляет вакансию в избранное. Вакансии, добавленные в избранное, хранятся после окончания сессии, и пользователь может всегда вернуться к ним.

18. После того как пользователь просмотрел подробную информацию о вакансии, он может вернуться обратно к списку вакансий для дальнейшего их просмотра.

19. По окончанию работы с ботом все данные о найденных вакансиях, которые записывались в БД, кроме вакансий, добавленных в избранное, удаляются. 

## Примечание!
Этот алгоритм описывает работу Telegram бота Work_for_everyone в самом общем виде.  
Уверен, что в ходе разработки что-то будет изменено. После изменения в структуре и коде проекта, все изменения будут отражены и здесь.

## Технологии
- Python: 3.11
- Peewee: 3.16.3
- Aiogram: 3.1.1

Подробнее с используемыми зависимостями вы можете ознакомиться в файле requirements.txt

## Об авторе проекта
Меня зовут Барабанщиков Кирилл, я еще только начинаю свой путь в IT.  
Это мой второй шаг. Первый мой шаг - учеба на python - backend разработчик в Яндекс.Практикуме. Это было сложно, но очень интересно!

Я всегда рад любой критике и открыт к обсуждению моего проекта в целом и кода в частности!  

**Вы всегда можете написать мне:**
- ВКонтакте: https://vk.com/id30907580
- Telegram: https://t.me/Kirill_Barabanshchikov
- Дзен: https://dzen.ru/bks_daily
